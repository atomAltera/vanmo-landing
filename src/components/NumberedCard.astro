---
interface Props {
  index: number;
  title: string;
  body?: string;
  bodyHtml?: string;
  as?: 'div' | 'li';
  titleClass?: string;
  bodyClass?: string;
  class?: string;
}

const {
  index,
  title,
  body,
  bodyHtml,
  as = 'div',
  titleClass = '',
  bodyClass = '',
  class: className = ''
} = Astro.props;

const Wrapper = as;
const formattedIndex = (index + 1).toString().padStart(2, '0');
const baseTitleClass = 'text-lg md:text-xl font-semibold text-white flex items-start gap-4';
const baseBodyClass = 'text-gray-300 ml-12 mt-3 leading-relaxed';
---

<Wrapper class={`faq-card rounded-2xl p-6 md:p-7 ${className}`.trim()}>
  <div class={`${baseTitleClass} ${titleClass}`.trim()}>
    <span class="faq-index">
      {formattedIndex}
    </span>
    <span class="pt-1">{title}</span>
  </div>
  {bodyHtml ? (
    <div class={`${baseBodyClass} ${bodyClass}`.trim()} set:html={bodyHtml} />
  ) : body ? (
    <p class={`${baseBodyClass} ${bodyClass}`.trim()}>{body}</p>
  ) : (
    <div class={`${baseBodyClass} ${bodyClass}`.trim()}>
      <slot />
    </div>
  )}
</Wrapper>

<style>
  .faq-card {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(0, 0, 0, 0));
  }

  .faq-index {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.25rem;
    height: 2.25rem;
    border-radius: 9999px;
    background: rgba(227, 67, 67, 0.12);
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.8rem;
    font-weight: 600;
  }

  :root.day-mode .faq-card {
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.04), rgba(255, 255, 255, 0));
  }

  :root.day-mode .faq-index {
    color: rgba(127, 29, 29, 0.9);
    background: rgba(227, 67, 67, 0.14);
  }
</style>
